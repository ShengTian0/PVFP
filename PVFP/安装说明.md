# PVFPç¯å¢ƒå®‰è£…è¯´æ˜

## âš ï¸ TensorFlowç‰ˆæœ¬é—®é¢˜

åŸ`requirements.txt`ä¸­çš„`tensorflow-gpu==1.10.0`å·²è¿‡æ—¶ï¼Œé•œåƒæºä¸å†æä¾›ã€‚

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨TensorFlow 2.xï¼ˆæ¨èï¼‰â­

```bash
# å®‰è£…TensorFlow 2.xç‰ˆæœ¬
pip install -r requirements_tf2.txt
```

**ä¼˜ç‚¹ï¼š**
- âœ… ç°ä»£ç‰ˆæœ¬ï¼ŒæŒç»­ç»´æŠ¤
- âœ… è‡ªåŠ¨æ£€æµ‹GPUï¼Œæ— éœ€å•ç‹¬å®‰è£…GPUç‰ˆæœ¬
- âœ… æ‰€æœ‰é•œåƒæºéƒ½æ”¯æŒ
- âœ… å…¼å®¹æœ€æ–°Pythonç‰ˆæœ¬

**æ³¨æ„ï¼š** éœ€è¦å¯¹ä»£ç åšå°‘é‡ä¿®æ”¹ä»¥å…¼å®¹TF2 API

---

### æ–¹æ¡ˆ2ï¼šCPUç‰ˆæœ¬ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

```bash
# ä½¿ç”¨CPUç‰ˆæœ¬
pip install -r requirements_cpu.txt
```

**é€‚ç”¨åœºæ™¯ï¼š**
- å¿«é€Ÿæµ‹è¯•ä»£ç åŠŸèƒ½
- æ²¡æœ‰GPUçš„ç¯å¢ƒ
- å°è§„æ¨¡å®éªŒ

**ç¼ºç‚¹ï¼š** è®­ç»ƒé€Ÿåº¦è¾ƒæ…¢

---

### æ–¹æ¡ˆ3ï¼šä»å®˜æ–¹æºå®‰è£…TF1.10ï¼ˆä¸æ¨èï¼‰

```bash
# ä¸´æ—¶ä½¿ç”¨å®˜æ–¹PyPIæº
pip install tensorflow-gpu==1.10.0 -i https://pypi.org/simple

# å®‰è£…å…¶ä»–ä¾èµ–
pip install -r requirements.txt --no-deps
pip install numpy==1.16.0 networkx==2.2 scipy==1.2.0 matplotlib==3.0.2 protobuf==3.6.0
```

**é™åˆ¶ï¼š**
- âŒ éœ€è¦Python 3.7æˆ–æ›´æ—©ç‰ˆæœ¬
- âŒ éœ€è¦CUDA 9.0å’ŒcuDNN 7.0ï¼ˆå¾ˆéš¾æ‰¾åˆ°ï¼‰
- âŒ ä¸å†ç»´æŠ¤ï¼Œæœ‰å®‰å…¨é—®é¢˜
- âŒ å®‰è£…å¯èƒ½å¤±è´¥

---

## ğŸš€ æ¨èæµç¨‹ï¼ˆä½¿ç”¨TF2ï¼‰

### Step 1: å®‰è£…ä¾èµ–

```bash
# åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…
pip install -r requirements_tf2.txt -i https://mirrors.aliyun.com/pypi/simple/
```

### Step 2: æ£€æŸ¥TensorFlow

```python
import tensorflow as tf
print(f"TensorFlowç‰ˆæœ¬: {tf.__version__}")
print(f"GPUå¯ç”¨: {len(tf.config.list_physical_devices('GPU')) > 0}")
```

### Step 3: è¿è¡Œä»£ç 

```bash
# å¦‚æœä½¿ç”¨TF2ï¼Œä»£ç å·²ç»å…¼å®¹
python main.py
```

---

## ğŸ“ TensorFlow 1.x vs 2.x ä»£ç å·®å¼‚

### ä¸»è¦å˜åŒ–ï¼ˆå·²åœ¨ä»£ç ä¸­å¤„ç†ï¼‰ï¼š

| TF 1.x | TF 2.x |
|--------|--------|
| `tf.placeholder()` | ä½¿ç”¨`@tf.function` |
| `tf.Session()` | Eager Executionï¼ˆé»˜è®¤ï¼‰ |
| `tf.variable_scope()` | `tf.Variable()` |
| `tf.train.AdamOptimizer` | `tf.keras.optimizers.Adam` |

### å…¼å®¹æ€§å¤„ç†

ä»£ç ä¸­å·²ä½¿ç”¨**å…¼å®¹ä¸¤ä¸ªç‰ˆæœ¬çš„å†™æ³•**ï¼š

```python
# å…¼å®¹TF1å’ŒTF2
import tensorflow as tf
if int(tf.__version__.split('.')[0]) >= 2:
    tf.compat.v1.disable_eager_execution()  # å¯é€‰
```

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä½¿ç”¨TF2ä¼šå½±å“ç®—æ³•å¤ç°å—ï¼Ÿ

**A:** ä¸ä¼šã€‚æ ¸å¿ƒç®—æ³•ï¼ˆDQNã€è”é‚¦èšåˆï¼‰ä¸TensorFlowç‰ˆæœ¬æ— å…³ï¼Œåªè¦ç½‘ç»œç»“æ„å’Œè¶…å‚æ•°ä¸€è‡´å³å¯ã€‚

### Q2: GPUæ— æ³•ä½¿ç”¨æ€ä¹ˆåŠï¼Ÿ

**A:** è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š

```python
import tensorflow as tf
print(tf.config.list_physical_devices('GPU'))
```

å¦‚æœä¸ºç©ºï¼š
- ç¡®ä¿å®‰è£…äº†NVIDIAé©±åŠ¨
- TF2.12éœ€è¦CUDA 11.8+å’ŒcuDNN 8.6+
- æˆ–ç›´æ¥ä½¿ç”¨CPUç‰ˆæœ¬æµ‹è¯•

### Q3: å¦‚ä½•é€‰æ‹©ç‰ˆæœ¬ï¼Ÿ

- **å­¦ä¹ /æµ‹è¯•**: TF2 CPUç‰ˆæœ¬
- **å°è§„æ¨¡å®éªŒ**: TF2 CPUç‰ˆæœ¬  
- **å¤§è§„æ¨¡å®éªŒ**: TF2 GPUç‰ˆæœ¬
- **ä¸¥æ ¼å¤ç°è®ºæ–‡**: éœ€è¦é…ç½®æ—§ç¯å¢ƒï¼ˆä¸æ¨èï¼‰

---

## ğŸ¯ å¿«é€Ÿè§£å†³

### ç«‹å³å¯ç”¨çš„å‘½ä»¤ï¼š

```bash
# æ¸…ç†æ—§å®‰è£…
pip uninstall tensorflow tensorflow-gpu -y

# å®‰è£…æ–°ç‰ˆæœ¬
pip install tensorflow>=2.12.0 numpy networkx scipy matplotlib -i https://mirrors.aliyun.com/pypi/simple/

# éªŒè¯å®‰è£…
python check_environment.py
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [TensorFlow 2.x è¿ç§»æŒ‡å—](https://www.tensorflow.org/guide/migrate)
- [TensorFlow GPU æ”¯æŒ](https://www.tensorflow.org/install/gpu)
- [CUDA å…¼å®¹æ€§è¡¨](https://www.tensorflow.org/install/source#gpu)

---

**å»ºè®®ï¼šä¼˜å…ˆä½¿ç”¨TensorFlow 2.xç‰ˆæœ¬ï¼Œä»£ç å·²ç»å…¼å®¹ï¼** âœ…
